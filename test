# ingenico-api-service-automation

## Overview
This project provides automated API tests for the Ingenico RTMS service.
The goal is to validate API contracts, error handling, and key business flows
using a lightweight, maintainable test automation framework.

The project is intentionally kept simple and extensible, avoiding
overengineering while remaining production-ready.

---

## Tech Stack
- Java 17
- Maven
- JUnit 5
- RestAssured
- AssertJ

---

## Project Structure



### Design Principles
- Tests do not use `jsonPath`
- Tests validate API contracts, not implementation details
- Each test has a single responsibility
- Configuration is centralized
- Infrastructure is separated from test logic

---

## Covered Scenarios

### Terminal API
**GET /terminal/find/byTid/{terminalTid}**
- Happy path (200, contract validation)
- Negative path (404 when terminal does not exist)

### Application API
**POST /application/install/{applicationLabel}**
- Happy path (successful installation)
- Negative path (invalid application label)

### Business Flow
- GET terminal â†’ POST install application â†’ GET terminal

This flow validates cooperation between endpoints without assuming
synchronous backend behavior.

---

## What This Project Intentionally Does NOT Include
- Authentication (can be added when required)
- Retry logic (can be added if instability appears)
- Cucumber / BDD (added only when business readability is required)
- Database validation
- Mocking

These features are intentionally excluded to avoid premature complexity.

---

## How to Run Tests

### Run all tests
```bash
mvn clean test



mvn test -Dtest=TerminalApplicationFlowTest




---

# âœ… CHECKLISTA JAKOÅšCI TESTÃ“W API (ARCHITEKT)

TÄ™ checklistÄ™ architekt **przechodzi w gÅ‚owie lub na code review**.

---

## 1ï¸âƒ£ Architektura projektu
- [x] Czy testy sÄ… oddzielone od komunikacji HTTP?
- [x] Czy konfiguracja jest w jednym miejscu?
- [x] Czy BaseTest zawiera tylko setup?
- [x] Czy struktura katalogÃ³w jest logiczna?

---

## 2ï¸âƒ£ JakoÅ›Ä‡ testÃ³w
- [x] Czy kaÅ¼dy test ma **jednÄ… odpowiedzialnoÅ›Ä‡**?
- [x] Czy nazwy testÃ³w mÃ³wiÄ… *co* i *dlaczego*?
- [x] Czy testy nie zaleÅ¼Ä… od kolejnoÅ›ci wykonania?
- [x] Czy testy sÄ… deterministyczne?

---

## 3ï¸âƒ£ Walidacja API
- [x] Czy happy path waliduje kontrakt ze Swaggera?
- [x] Czy sÄ… testy negatywne (404 / 400)?
- [x] Czy testy NIE sprawdzajÄ… szczegÃ³Å‚Ã³w implementacji?
- [x] Czy flow test nie zakÅ‚ada synchronicznoÅ›ci backendu?

---

## 4ï¸âƒ£ Dane testowe
- [x] Czy testy nie modyfikujÄ… trwaÅ‚ego stanu?
- [x] Czy dane sÄ… czytelne i Å‚atwe do zmiany?
- [x] Czy brak zaleÅ¼noÅ›ci od DB?

---

## 5ï¸âƒ£ Logging i debugowanie
- [x] Czy w przypadku bÅ‚Ä™du widaÄ‡ request i response?
- [x] Czy logging jest minimalny i globalny?
- [x] Czy testy nie zawierajÄ… `System.out.println`?

---

## 6ï¸âƒ£ CI / utrzymanie
- [x] Czy testy nadajÄ… siÄ™ do CI?
- [x] Czy brak flaky testÃ³w?
- [x] Czy zmiana base URL nie wymaga zmiany kodu?
- [x] Czy nowy test da siÄ™ dodaÄ‡ bez refactoringu?

---

## 7ï¸âƒ£ Overengineering (najwaÅ¼niejsze)
- [x] Czy projekt NIE zawiera nieuÅ¼ywanych mechanizmÃ³w?
- [x] Czy kaÅ¼da klasa ma realny powÃ³d istnienia?
- [x] Czy Å‚atwo wytÅ‚umaczyÄ‡ projekt nowej osobie w 10 minut?

---

# ğŸ§  Ostateczna myÅ›l architekta

> **Dobre testy API sÄ… nudne.
> Nuda = stabilnoÅ›Ä‡ = niskie koszty utrzymania.**

TwÃ³j projekt **speÅ‚nia tÄ™ definicjÄ™**.

---

JeÅ›li chcesz, nastÄ™pnym krokiem moÅ¼emy:
- zrobiÄ‡ **code review â€jak na rozmowie technicznejâ€**
- rozrysowaÄ‡ **mapÄ™ rozwoju projektu (kiedy co dodawaÄ‡)**
- przygotowaÄ‡ **wersjÄ™ â€rekrutacyjnÄ…â€ projektu**

Powiedz, w ktÃ³rÄ… stronÄ™ idziemy dalej ğŸ‘Œ




---

# âœ… CHECKLISTA JAKOÅšCI TESTÃ“W API (ARCHITEKT)

TÄ™ checklistÄ™ architekt **przechodzi w gÅ‚owie lub na code review**.

---

## 1ï¸âƒ£ Architektura projektu
- [x] Czy testy sÄ… oddzielone od komunikacji HTTP?
- [x] Czy konfiguracja jest w jednym miejscu?
- [x] Czy BaseTest zawiera tylko setup?
- [x] Czy struktura katalogÃ³w jest logiczna?

---

## 2ï¸âƒ£ JakoÅ›Ä‡ testÃ³w
- [x] Czy kaÅ¼dy test ma **jednÄ… odpowiedzialnoÅ›Ä‡**?
- [x] Czy nazwy testÃ³w mÃ³wiÄ… *co* i *dlaczego*?
- [x] Czy testy nie zaleÅ¼Ä… od kolejnoÅ›ci wykonania?
- [x] Czy testy sÄ… deterministyczne?

---

## 3ï¸âƒ£ Walidacja API
- [x] Czy happy path waliduje kontrakt ze Swaggera?
- [x] Czy sÄ… testy negatywne (404 / 400)?
- [x] Czy testy NIE sprawdzajÄ… szczegÃ³Å‚Ã³w implementacji?
- [x] Czy flow test nie zakÅ‚ada synchronicznoÅ›ci backendu?

---

## 4ï¸âƒ£ Dane testowe
- [x] Czy testy nie modyfikujÄ… trwaÅ‚ego stanu?
- [x] Czy dane sÄ… czytelne i Å‚atwe do zmiany?
- [x] Czy brak zaleÅ¼noÅ›ci od DB?

---

## 5ï¸âƒ£ Logging i debugowanie
- [x] Czy w przypadku bÅ‚Ä™du widaÄ‡ request i response?
- [x] Czy logging jest minimalny i globalny?
- [x] Czy testy nie zawierajÄ… `System.out.println`?

---

## 6ï¸âƒ£ CI / utrzymanie
- [x] Czy testy nadajÄ… siÄ™ do CI?
- [x] Czy brak flaky testÃ³w?
- [x] Czy zmiana base URL nie wymaga zmiany kodu?
- [x] Czy nowy test da siÄ™ dodaÄ‡ bez refactoringu?

---

## 7ï¸âƒ£ Overengineering (najwaÅ¼niejsze)
- [x] Czy projekt NIE zawiera nieuÅ¼ywanych mechanizmÃ³w?
- [x] Czy kaÅ¼da klasa ma realny powÃ³d istnienia?
- [x] Czy Å‚atwo wytÅ‚umaczyÄ‡ projekt nowej osobie w 10 minut?

---

# ğŸ§  Ostateczna myÅ›l architekta

> **Dobre testy API sÄ… nudne.
> Nuda = stabilnoÅ›Ä‡ = niskie koszty utrzymania.**

TwÃ³j projekt **speÅ‚nia tÄ™ definicjÄ™**.

---

JeÅ›li chcesz, nastÄ™pnym krokiem moÅ¼emy:
- zrobiÄ‡ **code review â€jak na rozmowie technicznejâ€**
- rozrysowaÄ‡ **mapÄ™ rozwoju projektu (kiedy co dodawaÄ‡)**
- przygotowaÄ‡ **wersjÄ™ â€rekrutacyjnÄ…â€ projektu**

Powiedz, w ktÃ³rÄ… stronÄ™ idziemy dalej ğŸ‘Œ



mvn test -Dtest=terminal.*
mvn test -Dtest=flow.*


ğŸ—ºï¸ MAPA ROZWOJU PROJEKTU

ingenico-api-service-automation

ğŸ¯ Zasada nadrzÄ™dna (najwaÅ¼niejsza)

Nowy element dodajemy tylko wtedy,
gdy pojawia siÄ™ realny problem, ktÃ³rego nie da siÄ™ rozwiÄ…zaÄ‡ taniej.

ğŸŸ¢ ETAP 0 â€” FUNDAMENT (âœ”ï¸ JUÅ» ZROBIONE)

Cel: mieÄ‡ dziaÅ‚ajÄ…ce, wiarygodne testy API

Zakres

Maven + Java 17

RestAssured + JUnit 5

Struktura katalogÃ³w

BaseTest

TestConfig

Minimalny logging

DTO zamiast jsonPath

Testy

GET happy

GET 404

POST happy

POST negative

Flow GET â†’ POST â†’ GET

Decyzja architekta

â€To wystarczy, Å¼eby ufaÄ‡ API.â€

â›” NIC WIÄ˜CEJ NA TYM ETAPIE

ğŸŸ¡ ETAP 1 â€” STABILNOÅšÄ† CI (dodajemy tylko, jeÅ›li trzeba)

Kiedy?

testy czasem failujÄ… w CI

API bywa wolne

sporadyczne 5xx

Dodajemy

â±ï¸ timeouty w RestAssured

ğŸ” retry tylko na GET

âŒ brak retry na POST (waÅ¼ne!)

Nadal NIE dodajemy

auth (jeÅ›li niepotrzebny)

Cucumber

mockÃ³w

Decyzja architekta

â€Stabilizujemy, nie rozbudowujemy.â€

ğŸŸ  ETAP 2 â€” OCHRONA KONTRAKTU (gdy API siÄ™ zmienia)

Kiedy?

backend czÄ™sto zmienia response

regresje wychodzÄ… za pÃ³Åºno

frontend narzeka

Dodajemy

ğŸ“„ JSON Schema Validation

tylko dla GET

tylko happy path

schemy trzymane w resources/schema

Nie robimy

schem dla POST

schem dla bÅ‚Ä™dÃ³w

schem w flow

Decyzja architekta

â€Chronimy kontrakt, nie komplikujemy testÃ³w.â€

ğŸŸ£ ETAP 3 â€” AUTORYZACJA (tylko jeÅ›li API tego wymaga)

Kiedy?

backend wymaga Bearer / OAuth

401 w testach

Dodajemy

AuthTokenProvider

token ustawiany w BaseTest

token:

statyczny na start

dynamiczny pÃ³Åºniej

Nadal NIE robimy

refresh token

mock auth

security tests

Decyzja architekta

â€Auth to infrastruktura, testy nie powinny o nim wiedzieÄ‡.â€

ğŸ”µ ETAP 4 â€” BIZNES & CZYTELNOÅšÄ† (BDD)

Kiedy?

testy majÄ… byÄ‡ czytane przez:

PO

BA

biznes

flow testy sÄ… kluczowe

Dodajemy

Cucumber TYLKO dla flow

Given / When / Then

step definitions uÅ¼ywajÄ… istniejÄ…cych API clients

NIE przenosimy

wszystkich testÃ³w do Cucumbera

negatywÃ³w

testÃ³w kontraktowych

Decyzja architekta

â€BDD tam, gdzie jest wartoÅ›Ä‡ komunikacyjna.â€

ğŸŸ¤ ETAP 5 â€” SKALA (duÅ¼o endpointÃ³w)

Kiedy?

30+ endpointÃ³w

wiele zespoÅ‚Ã³w

dÅ‚ugi czas utrzymania

Dodajemy

TestDataFactory

ResponseValidator

lepsze nazewnictwo

pakiety per domena

Nadal NIE

E2E przez UI

DB assertions

nadmiar utili

ğŸ”´ ETAP 6 â€” SYSTEM & PIPELINE

Kiedy?

testy lecÄ… na kaÅ¼dym PR

nightly runs

raporty

Dodajemy

CI pipeline (GitLab/Jenkins)

tagowanie testÃ³w

profile Å›rodowisk

raporty

ğŸ“Œ PODSUMOWANIE W JEDNYM ZDANIU

Projekt roÅ›nie tylko wtedy, gdy pojawia siÄ™ bÃ³l.
Nie wczeÅ›niej.

ğŸ§  Jak architekt uÅ¼ywa tej mapy?

na review: â€to jeszcze za wczeÅ›nieâ€

na planowaniu: â€to jest etap 2, nie 4â€

w rozmowie z biznesem: â€to nie jest teraz potrzebneâ€








dane

chciaÅ‚bym zapytaÄ‡ o dane, do      private static final String EXISTING_TID = "12345678"; co jeÅ¼eli tych danych jest duÅ¼o ?

Bardzo trafne pytanie â€” to jest dokÅ‚adnie moment przejÅ›cia z â€example testÃ³wâ€ na â€prawdziwÄ… automatyzacjÄ™â€.
Odpowiem jak architekt, a nie â€jak dopisaÄ‡ zmiennÄ…â€.

ğŸ”´ Problem, ktÃ³ry wÅ‚aÅ›nie zauwaÅ¼yÅ‚eÅ›
private static final String EXISTING_TID = "12345678";


To jest OK na start, ale NIE SKALUJE SIÄ˜, gdy:

masz dziesiÄ…tki / setki TID

rÃ³Å¼ne Å›rodowiska (local / test / stage)

rÃ³Å¼ne przypadki biznesowe

dane siÄ™ zmieniajÄ…

Architekt nigdy nie zostawia tego w tej formie, gdy projekt roÅ›nie.

ğŸ§  Jak architekt myÅ›li o DANYCH TESTOWYCH

Architekt zadaje 3 pytania:

1ï¸âƒ£ SkÄ…d pochodzÄ… dane?
2ï¸âƒ£ Jak czÄ™sto siÄ™ zmieniajÄ…?
3ï¸âƒ£ Czy test ma znaÄ‡ konkretne wartoÅ›ci?

Na tej podstawie wybiera strategiÄ™.

ğŸŸ¢ ETAP 1 (teraz): MAÅO DANYCH â†’ TestDataFactory
Kiedy?

kilkaâ€“kilkanaÅ›cie TID

dane raczej staÅ‚e

chcesz czytelne testy

RozwiÄ…zanie (REKOMENDOWANE TERAZ)
ğŸ“ data/TerminalTestData.java
package pl.ingenico.automation.data;

import java.util.List;

public class TerminalTestData {

    public static String anyExistingTid() {
        return "12345678";
    }

    public static List<String> existingTids() {
        return List.of(
                "12345678",
                "87654321",
                "11223344"
        );
    }

    public static String nonExistingTid() {
        return "99999999";
    }
}

W teÅ›cie:
String tid = TerminalTestData.anyExistingTid();


âœ… test nie zna szczegÃ³Å‚Ã³w
âœ… Å‚atwa zmiana
âœ… centralne miejsce

ğŸŸ¡ ETAP 2: DUÅ»O DANYCH â†’ parametryzacja testÃ³w
Kiedy?

chcesz sprawdziÄ‡ wiele TID

ten sam test, rÃ³Å¼ne dane

JUnit 5 â€“ @ParameterizedTest
@ParameterizedTest
@ValueSource(strings = {
        "12345678",
        "87654321",
        "11223344"
})
void shouldReturnTerminalForMultipleTids(String tid) {

    var response = terminalApiClient.getTerminalByTid(tid);

    assertThat(response.statusCode()).isEqualTo(200);
}


ğŸ“Œ Dane sÄ… wewnÄ…trz testu, ale:

test jest jeden

dane sÄ… wariantami

ğŸŸ  ETAP 3: DANE Z PLIKU (CSV / JSON)
Kiedy?

dane czÄ™sto siÄ™ zmieniajÄ…

nie chcesz rekompilowaÄ‡ kodu

rÃ³Å¼ne Å›rodowiska

ğŸ“„ src/test/resources/data/terminals.csv
tid,environment
12345678,local
87654321,test

Loader:
public class TerminalDataLoader {

    public static List<String> loadExistingTids() {
        // read CSV â†’ return list
    }
}


ğŸ“Œ Testy nie znajÄ… ÅºrÃ³dÅ‚a danych.

ğŸ”µ ETAP 4: DANE DYNAMICZNE (API / DB)
Kiedy?

Å›rodowisko siÄ™ zmienia

dane sÄ… tworzone dynamicznie

testy E2E

PrzykÅ‚ad:
String tid = terminalApiClient.getAnyActiveTerminalTid();


ğŸ“Œ Test nie zna Å¼adnych konkretnych ID
ğŸ“Œ Test zna tylko intencjÄ™

ğŸ”´ Czego architekt NIE robi (waÅ¼ne)

âŒ nie trzyma setek ID w testach
âŒ nie kopiuje danych miÄ™dzy klasami
âŒ nie hardcoduje Å›rodowisk
âŒ nie â€na szybkoâ€ dopisuje kolejnych static final

ğŸ§  JakÄ… strategiÄ™ wybraÄ‡ TERAZ?
Dla Twojego projektu (uczciwie):

âœ… ETAP 1 â€“ TestDataFactory

Bo:

jesteÅ› na etapie frameworku

dane sÄ… przykÅ‚adowe

chcesz siÄ™ skupiÄ‡ na architekturze

ğŸ§  Jak architekt by to podsumowaÅ‚ zespoÅ‚owi

â€Na razie trzymamy dane w jednym miejscu.
Gdy ich przybÄ™dzie albo zacznÄ… siÄ™ zmieniaÄ‡ â€” zmienimy strategiÄ™.
Testy nie bÄ™dÄ… musiaÅ‚y siÄ™ zmieniaÄ‡.â€

To jest kluczowa myÅ›l.

ğŸ“Œ Konkretny next step (proponujÄ™)

Chcesz, Å¼ebym:
1ï¸âƒ£ przerobiÅ‚ wszystkie testy na TerminalTestData
2ï¸âƒ£ pokazaÅ‚ parametryzowany test GET
3ï¸âƒ£ zaprojektowaÅ‚ strategiÄ™ danych pod CI / multi-env

Wybierz numer â€” idziemy dalej jak architekci ğŸ’ª